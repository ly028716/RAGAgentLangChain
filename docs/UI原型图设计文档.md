# AI智能助手系统 - UI原型图设计文档

**文档版本**：v1.0  
**创建日期**：2026-01-17  
**适用范围**：Web 端（PC 优先，兼容移动端）；组件库 Element Plus

## 1. 设计目标

- 让用户以最短路径完成三类核心任务：对话、知识库问答、Agent 执行
- 关键操作具备明确反馈：加载、流式输出、成功/失败、可恢复（重试/撤销/继续）
- 界面信息结构稳定、可扩展：侧边栏导航 + 顶部状态 + 主内容区（可插拔右侧配置）
- 适配响应式：≥1366×768 为主，兼容移动端折叠布局

## 2. 信息架构（IA）

### 2.1 页面结构（全局）

```text
├── 登录页 /login
├── 注册页 /register
└── 主界面（登录后）
    ├── 智能对话 /chat（可带 /chat/:id）
    ├── 知识库 /knowledge
    ├── Agent /agent
    └── 设置 /settings
```

### 2.2 全局布局（主界面）

- 左侧：侧边栏导航
  - 菜单：智能对话、知识库、Agent、设置
  - 在“智能对话”下展示对话列表（可折叠）
- 顶部：顶栏
  - 左侧：当前页面标题
  - 右侧：用户头像/昵称下拉（个人信息、退出登录）
  - 入口：使用统计（弹窗/抽屉）、帮助（外链/文档页）
- 主内容区：按路由切换页面
- 全局提示：顶部 message / notification；全局 loading 遮罩仅用于强阻塞操作

## 3. 设计规范（原型级）

### 3.1 栅格与间距

- 页面容器：左右内边距 16–24
- 区块间距：16
- 表单项间距：12
- 列表行高：44（可点击列表项）

### 3.2 字体与层级

- 页面标题：18–20，半粗
- 区块标题：16，半粗
- 正文：14
- 辅助信息/说明：12，颜色弱化

### 3.3 组件与反馈

- 表单：输入即校验 + 提交校验；错误提示紧贴字段，支持滚动定位到首个错误
- 按钮：主按钮每屏/每弹窗仅 1 个
- 空态：每个列表/表格必须有空态（引导创建/上传）
- 错误态：提供可行动方案（重试/返回/联系客服（占位））
- 流式态：消息/步骤区域支持“正在生成…”与“停止”操作

## 4. 页面原型（Wireframe）

以下以“低保真原型图 + 交互说明 + 状态定义”为输出格式，便于直接实现。

## 4.1 登录页（/login）

### 4.1.1 线框结构

```text
┌──────────────────────────────────────────────┐
│ Logo + 产品名                                 │
│ ┌──────────────────────────────────────────┐ │
│ │  登录                                   │ │
│ │  [账号/邮箱/手机号]                      │ │
│ │  [密码]  (👁可见切换)                     │ │
│ │  [ ] 记住我（7天）                        │ │
│ │  [登录]（主按钮）                         │ │
│ │  忘记密码（占位）   去注册 →              │ │
│ └──────────────────────────────────────────┘ │
│ 页脚：隐私/协议（占位）                        │
└──────────────────────────────────────────────┘
```

### 4.1.2 交互与校验

- 点击登录：
  - 校验必填
  - loading：按钮进入加载态，禁用重复点击
  - 成功：跳转到 redirect 或 /chat
  - 失败：展示错误 message（包含“剩余尝试次数/锁定提示”如后端提供）
- 记住我：默认关闭；开启后本地持久化 refresh token（若产品策略允许）

### 4.1.3 状态

- 默认：可输入
- 提交中：按钮 loading，输入框禁用
- 错误：字段下方错误 + 顶部 message

## 4.2 注册页（/register）

### 4.2.1 线框结构

```text
┌──────────────────────────────────────────────┐
│ Logo + 产品名                                 │
│ ┌──────────────────────────────────────────┐ │
│ │  注册                                   │ │
│ │  [用户名/邮箱/手机号]                     │ │
│ │  [验证码] [发送验证码]                     │ │
│ │  [密码]                                  │ │
│ │  [确认密码]                               │ │
│ │  [ ] 我已阅读并同意《用户协议》             │ │
│ │  [注册]（主按钮）                          │ │
│ │  去登录 →                                 │ │
│ └──────────────────────────────────────────┘ │
└──────────────────────────────────────────────┘
```

### 4.2.2 交互与校验

- 密码强度：至少 8 位且包含字母数字（实时提示强度条：弱/中/强）
- 发送验证码：
  - 未填写账号：提示先输入
  - 发送成功：按钮倒计时 60s
  - 发送失败：提示重试
- 协议勾选：未勾选禁止提交

## 4.3 主界面框架（Layout）

### 4.3.1 线框结构（通用）

```text
┌──────────────────────────────────────────────────────────┐
│ 顶栏：页面标题                          用户头像/昵称 ▾    │
├───────────────┬──────────────────────────────────────────┤
│ 侧边栏         │ 主内容区                                  │
│ - 智能对话      │                                          │
│ - 知识库        │                                          │
│ - Agent        │                                          │
│ - 设置         │                                          │
│               │                                          │
└───────────────┴──────────────────────────────────────────┘
```

### 4.3.2 交互

- 侧边栏：
  - PC：默认展开；移动端：折叠为抽屉
  - 高亮当前菜单
- 顶栏：
  - 用户下拉：个人信息（占位）、退出登录
  - 使用统计入口：弹窗/抽屉展示汇总（token、调用次数、活跃度等）

## 4.4 智能对话页（/chat、/chat/:id）

### 4.4.1 线框结构

```text
┌───────────────┬───────────────────────────────┬──────────┐
│ 左：对话列表    │ 中：消息区                     │ 右：配置  │
│ [新对话 +]     │  ┌──────────────────────────┐ │ 温度 slider│
│ [搜索...]      │  │ assistant: ...           │ │ max_tokens │
│ - 会话A (⋯)    │  │ user: ...                │ │ 提示词 textarea
│ - 会话B (⋯)    │  │ assistant(流式中)…       │ │ 模式：普通/专业/创意
│                │  └──────────────────────────┘ │ [折叠]    │
│                │  输入区：                     │          │
│                │  [textarea.........] [发送]   │          │
│                │  [停止]（流式时显示）          │          │
└───────────────┴───────────────────────────────┴──────────┘
```

### 4.4.2 关键交互

- 新对话：
  - 点击“新对话 +”创建空会话并进入 /chat/:id（或首条消息发送后自动创建）
- 对话列表项：
  - 点击进入；右键/更多：重命名、导出、删除
  - 删除：确认弹窗，支持软删除提示
- 发送消息：
  - Enter 发送（可配置）；Shift+Enter 换行
  - 发送后消息立即回显（optimistic），流式响应逐字追加
  - 流式中：显示停止按钮；停止后保留已生成内容并提示“已停止”
- 重试/重新生成：
  - 在最后一条 assistant 消息上提供“重新生成”入口
- Markdown 渲染：
  - 代码块支持复制按钮；长代码块可折叠（可选）

### 4.4.3 状态定义

- 空态：未选择会话或消息为空 → 展示引导卡片（示例问题、快捷入口）
- 加载：切换会话加载历史 → skeleton/加载提示
- 流式：assistant 消息气泡显示光标动画
- 错误：气泡内展示错误原因 + 重试按钮

## 4.5 知识库页（/knowledge）

### 4.5.1 线框结构（列表 + 详情抽屉）

```text
┌──────────────────────────────────────────────────────────┐
│ 顶部： [搜索知识库...]    [创建知识库]（主按钮）            │
├──────────────────────────────────────────────────────────┤
│ 知识库卡片列表（grid）                                     │
│ ┌───────────┐ ┌───────────┐ ┌───────────┐                │
│ │ 名称       │ │ 名称       │ │ 名称       │                │
│ │ 描述/分类   │ │ 描述/分类   │ │ 描述/分类   │                │
│ │ [进入] [⋯] │ │ [进入] [⋯] │ │ [进入] [⋯] │                │
│ └───────────┘ └───────────┘ └───────────┘                │
└──────────────────────────────────────────────────────────┘

进入知识库（右侧抽屉/详情页）：
┌──────────────────────────────┐
│ 知识库详情：名称/描述/分类/权限 │
│ [上传文档]（拖拽区域）          │
│ 文档列表表格：                  │
│ 文件名 | 状态 | 分块数 | 操作    │
│ 预览/删除/重试                  │
│ 知识库问答：                    │
│ [输入问题...] [提问]（可流式）   │
│ 引用片段列表（top5）             │
└──────────────────────────────┘
```

### 4.5.2 关键交互

- 创建/编辑知识库：
  - 弹窗表单：名称（必填）、描述、分类
  - 提交成功后刷新列表
- 删除知识库：
  - 强提醒：将删除所有文档，不可恢复
- 上传文档：
  - 拖拽/点击上传；校验格式与大小（≤10MB）
  - 批量上传：上传队列 + 单文件进度条（至少展示“处理中/完成/失败”）
- 文档状态：
  - 状态 tag：处理中/已完成/失败
  - 失败：显示错误摘要 + “重试处理”按钮（如后端提供）
- 文档预览：
  - 抽屉/弹窗显示前 1000 字；提供下载原文件（可选）
- 知识库问答：
  - 输入问题→流式答案
  - 答案下方展示引用：片段内容、来源文档、相似度（进度条/百分比）
  - 多知识库联合检索（可选）：在问答区提供“选择知识库”多选

### 4.5.3 状态定义

- 空态：无知识库 → 引导创建
- 空态：无文档 → 引导上传与示例文件
- 处理中：上传后卡片/行内显示进度与队列
- 错误态：文档处理失败 → 行内错误 + 操作建议

## 4.6 Agent 页（/agent）

### 4.6.1 线框结构

```text
┌───────────────────────────────┬──────────────────────────┐
│ 左：工具列表/管理               │ 右：任务执行              │
│ [搜索工具...]  [新建工具]        │ 任务输入：                │
│ - 内置：搜索/计算/天气/...       │ [textarea...........]      │
│ - 自定义：工具A/工具B            │ [执行]（主按钮）            │
│ 工具项：启用开关、编辑、删除     │ 执行过程（steps 时间线）：  │
│                               │ - Thought                  │
│                               │ - Action(tool + input)     │
│                               │ - Observation(output)      │
│                               │ 结果区：最终答案/输出        │
│                               │ 执行历史：列表（可筛选）      │
└───────────────────────────────┴──────────────────────────┘
```

### 4.6.2 关键交互

- 工具管理：
  - 工具列表区分：内置/自定义（分组）
  - 自定义工具：新增/编辑弹窗（名称、描述、配置 JSON/表单化）
  - 启用/禁用：开关即时生效并提示
  - 删除：确认弹窗
- 任务执行：
  - 点击执行后进入流式步骤回传
  - steps 使用时间线组件：每步支持展开/折叠、复制入参/出参
  - 运行中可停止；停止后标记“已中止”
  - 失败时给出原因 + 重试按钮
- 执行历史：
  - 支持查看详情：打开抽屉展示 steps + result
  - 支持导出：JSON（可选）

### 4.6.3 状态定义

- 空态：无自定义工具 → 引导创建
- 执行中：执行按钮 loading + 停止按钮可用
- 错误态：步骤中断高亮 + 错误详情

## 4.7 设置页（/settings）

### 4.7.1 线框结构

```text
┌──────────────────────────────────────────────────────────┐
│ Tabs：账号 | 模型与密钥 | 向量库 | 缓存与限流 | 统计与健康   │
├──────────────────────────────────────────────────────────┤
│ 账号：昵称/头像/修改密码/注销（占位）                      │
│ 模型与密钥：API Key 输入 + 校验 + 脱敏展示                 │
│ 向量库：类型选择（Chroma/Milvus）+ 连接参数                │
│ 缓存与限流：Redis 连接参数 + 限流开关/阈值                  │
│ 统计与健康：token 消耗、调用次数、健康检查结果              │
└──────────────────────────────────────────────────────────┘
```

### 4.7.2 关键交互

- API Key：
  - 输入后点击“验证并保存”
  - 保存成功：脱敏显示（只显示前后若干位）
  - 失败：提示原因
- 健康检查：
  - 手动刷新按钮
  - 显示 MySQL/Redis/向量库状态（绿/黄/红）

## 5. 全局交互与组件复用建议

- 统一弹窗/抽屉：
  - CRUD 表单使用同一套对话框布局（标题、内容、底部按钮）
  - 详情展示优先用抽屉（不打断主流程）
- 统一状态组件：
  - Loading：Skeleton/Spin
  - Empty：带主按钮的引导空态
  - Error：可重试错误卡片
- 统一权限/会话处理：
  - 401：自动跳转登录并携带 redirect
  - 403（配额不足）：展示“配额不足”弹窗并给出查看配额/使用统计入口

## 6. 原型交付清单（可直接落地到前端任务）

- 登录/注册：表单与校验、验证码倒计时、协议勾选、错误提示
- 主布局：侧边栏导航、顶栏用户菜单、页面标题、响应式折叠
- 对话：三栏布局、SSE 流式渲染、会话列表管理、导出/删除/重命名
- 知识库：卡片列表、详情抽屉、上传队列、文档状态/预览、RAG 引用展示
- Agent：工具管理 CRUD、执行 steps 时间线、执行历史抽屉
- 设置：API Key 管理、向量库/Redis 配置、统计与健康展示

